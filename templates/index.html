{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section id="home" class="hero">
    <div class="hero-slideshow">
        {% if hero_media %}
            {% for media in hero_media %}
                {% if media.type == 'image' %}
                    <div class="slide">
                        <img src="{{ media.url }}" alt="Sodienye & Ayoade" loading="lazy">
                    </div>
                {% else %}
                    <div class="slide">
                        <video autoplay muted loop playsinline>
                            <source src="{{ media.url }}" type="video/mp4">
                        </video>
                    </div>
                {% endif %}
            {% endfor %}
        {% else %}
            <div class="slide placeholder">
                <div class="placeholder-content">
                    <div class="logo-mark">S & A</div>
                </div>
            </div>
        {% endif %}
    </div>
    
    <div class="hero-overlay">
        <div class="hero-content">
            <h1 class="couple-names butterfly-text">
                <span class="bride-name">Sodienye</span>
                <span class="amp">&</span>
                <span class="groom-name">Ayoade</span>
            </h1>
        </div>
    </div>
    
    <!-- Hero Info Card -->
    <div class="hero-info-section">
        <div class="container">
            <div class="hero-info-card">
                <div class="hero-tagline">Forever We Cleave</div>
                <div class="hero-date">March 7, 2026 • Port Harcourt, Nigeria</div>
                
                <div class="hero-buttons">
                    <a href="{{ url_for('rsvp') }}" class="btn btn-primary">
                        <i class="fas fa-clipboard-list"></i>
                        RSVP
                    </a>
                    <a href="{{ url_for('asoebi') }}" class="btn btn-secondary">
                        <i class="fas fa-female"></i>
                        Aso-Ebi
                    </a>
                    <a href="{{ url_for('registry') }}" class="btn btn-secondary">
                        <i class="fas fa-gift"></i>
                        Gift the Couple
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Countdown Section -->
<section class="countdown-section">
    <div class="container">
        <div class="countdown-card thunderstorm">
            <div class="lightning"></div>
            <h3 class="countdown-title">Counting Down to Forever</h3>
            <p class="countdown-subtitle">Traditional Wedding • March 7, 2026</p>
            
            <div class="countdown-timer">
                <div class="countdown-item">
                    <span class="countdown-number" id="days">{{ countdown.days }}</span>
                    <span class="countdown-label">Days</span>
                </div>
                <div class="countdown-separator">:</div>
                <div class="countdown-item">
                    <span class="countdown-number" id="hours">{{ countdown.hours }}</span>
                    <span class="countdown-label">Hours</span>
                </div>
                <div class="countdown-separator">:</div>
                <div class="countdown-item">
                    <span class="countdown-number" id="minutes">{{ countdown.minutes }}</span>
                    <span class="countdown-label">Minutes</span>
                </div>
                <div class="countdown-separator">:</div>
                <div class="countdown-item">
                    <span class="countdown-number" id="seconds">{{ countdown.seconds }}</span>
                    <span class="countdown-label">Seconds</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Our Love Story Section -->
<section id="story" class="love-story">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Our Love Story</h2>
            <div class="section-divider"></div>
        </div>
        
        <div class="story-content">
            <div class="story-section">
                <h3 class="story-title">How We Met</h3>
                <div class="story-text">
                    <p>We met in church, which feels very fitting for how our journey would unfold.</p>
                    <p>For him, it was only his third Sunday attending. For her, it was another day quietly serving and going about her duties. We happened to sit beside each other that day, exchanged nothing more than shared air and a seat, and carried on. It felt simple and unassuming, or so it seemed.</p>
                    <p>The truth is, she did not notice him at all that day. He, however, noticed her and carried that quiet curiosity into the week.</p>
                </div>
            </div>
            
            <div class="story-pov">
                <div class="pov-card">
                    <h4 class="pov-title">POV: Ayo</h4>
                    <div class="pov-text">
                        <p>That morning, I came seeking God's direction about life in Canada. I did not expect the ushers to be part of a bigger story. Something about her stayed with me, and over time my convictions grew. I waited, prayed, and decided to take a small but courageous step, not all at once, but at the right time.</p>
                    </div>
                </div>
                
                <div class="pov-card">
                    <h4 class="pov-title">POV: Soddy</h4>
                    <div class="pov-text">
                        <p>A few Sundays later, while I was serving, he walked up to introduce himself. It was simple, kind, and sincere, and that was when I finally took notice. From there, small conversations began, never rushed and always thoughtful. Faith, values, and goals aligned naturally, like pieces finding their place.</p>
                    </div>
                </div>
            </div>
            
            <div class="story-conclusion">
                <h3 class="story-title">The Journey Continues</h3>
                <div class="story-text">
                    <p>Convictions were confirmed and we confirmed that what was unfolding between us was not accidental but intentional and divinely guided.</p>
                    
                    <p>Over the weeks, our quick greetings turned into conversations, and those conversations became something we both looked forward to. After almost two months, we exchanged numbers. What started as "once in a while" talking gently became "every day," and neither of us wanted to unlearn it.</p>
                    
                    <p>From sitting in the same church row to standing here today, we are grateful for how God uses the simplest moments to begin the most beautiful stories.</p>
                </div>
            </div>
            
            <div class="scripture-card">
                <div class="scripture-content">
                    <p class="scripture-text">"Can two walk together unless they agree?"</p>
                    <p class="scripture-reference">— Amos 3:3</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- The Proposal Section -->
<section class="proposal">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">The Proposal</h2>
            <div class="section-divider"></div>
        </div>
        
        <div class="proposal-content">
            <div class="proposal-text">
                <p>The proposal was thoughtful, intimate, and carefully planned, even if keeping it completely hidden was never going to be easy.</p>
                
                <p>She has an FBI-level instinct for detecting surprises. Every unusual plan is questioned, every detail examined, and every slight change in routine quickly noticed. So while he planned a quiet outing to a sunflower farm and presented it as a simple day out, her suspicions were already at work.</p>
                
                <p>She sensed something was coming. The timing felt intentional. The calm felt rehearsed. The little details felt meaningful. She had a feeling, but nothing was certain enough to confirm it. So she went along with the day, curious, observant, and quietly unsure.</p>
                
                <p>As the sun began to set and golden hour filled the field, the uncertainty came to an end. Lanterns lined the walkway, sunflowers framed the moment, and what had only been a suspicion suddenly became real. In that beautiful setting, he spoke from his heart, sharing his intentions, his gratitude, and his vision for a life together.</p>
                
                <p>Then he asked the question.</p>
                
                <p>With joy, clarity, and a full heart, she said yes.</p>
                
                <p>In the end, her instincts were right, but the moment still found a way to surprise her. What began as a feeling became a memory we will cherish forever, marking the start of a new chapter guided by love, laughter, and God's hand over our journey.</p>
            </div>
        </div>
        
        <!-- Proposal Media Slideshow -->
        <div class="proposal-slideshow">
            {% if proposal_media %}
                {% for media in proposal_media %}
                    {% if media.type == 'image' %}
                        <div class="proposal-slide">
                            <img src="{{ media.url }}" alt="Proposal" loading="lazy">
                        </div>
                    {% else %}
                        <div class="proposal-slide">
                            <video autoplay muted loop playsinline>
                                <source src="{{ media.url }}" type="video/mp4">
                            </video>
                        </div>
                    {% endif %}
                {% endfor %}
            {% else %}
                <div class="proposal-placeholder">
                    <div class="placeholder-content">
                        <i class="fas fa-heart"></i>
                        <p>Proposal photos and videos will appear here</p>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- Why Forever Made Sense Section -->
<section class="forever">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Why Forever Made Sense</h2>
            <div class="section-divider"></div>
        </div>
        
        <div class="forever-content">
            <div class="forever-text">
                <p>Forever made sense because being together felt easy, but never careless. We learned each other's hearts, respected each other's dreams, and showed up consistently.</p>
                
                <p>With time, love deepened into trust, and admiration grew into certainty. We realized that what we shared was not just about how we felt, but about who we were becoming together.</p>
                
                <p class="forever-emphasis">Forever made sense because we did not just fall in love. We grew in love, with purpose and direction.</p>
            </div>
        </div>
    </div>
</section>

<!-- Events Section -->
<section id="events" class="events">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Wedding Events</h2>
            <div class="section-divider"></div>
        </div>
        
        <div class="events-grid">
            <!-- Traditional Wedding -->
            <div class="event-card">
                <div class="event-header">
                    <h3 class="event-title">Traditional Wedding</h3>
                    <div class="event-badge">March 7, 2026</div>
                </div>
                
                <div class="event-details">
                    <div class="event-detail">
                        <i class="far fa-calendar"></i>
                        <span>March 7, 2026</span>
                    </div>
                    <div class="event-detail">
                        <i class="far fa-clock"></i>
                        <span>1:00 PM WAT (8:00 AM EST)</span>
                    </div>
                    <div class="event-detail">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Glass House Event Center</span>
                    </div>
                    <div class="event-detail">
                        <i class="fas fa-location-arrow"></i>
                        <span>#28, Rumuola Stadium Link-Road, Port Harcourt</span>
                    </div>
                </div>
                
                <div class="event-map">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d31804.793795915128!2d6.974752692922751!3d4.838671351762093!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x1069cea39f2c48e3%3A0x53562bdd7d8832db!2sPort%20Harcourt%2C%20Nigeria!3m2!1d4.847222599999999!2d6.974603999999999!4m5!1s0x1069cdd94543bc79%3A0xbacb958c24ea34aa!2sR2J6%207M8%20The%20Glass%20House%20Event%20Center%2C%20Link%20Rd%2C%20Rumuola%2C%20Port%20Harcourt%20500102%2C%20Rivers%2C%20Nigeria!3m2!1d4.830650299999999!2d7.011700299999999!5e0!3m2!1sen!2sca!4v1768783123664!5m2!1sen!2sca" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
            
            <!-- White Wedding -->
            <div class="event-card">
                <div class="event-header">
                    <h3 class="event-title">White Wedding</h3>
                    <div class="event-badge">April 2026</div>
                </div>
                
                <div class="event-details">
                    <div class="event-detail">
                        <i class="far fa-calendar"></i>
                        <span>{{ data.white_wedding.date }}</span>
                    </div>
                    <div class="event-detail">
                        <i class="far fa-clock"></i>
                        <span>{{ data.white_wedding.time }}</span>
                    </div>
                    <div class="event-detail">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>{{ data.white_wedding.venue }}</span>
                    </div>
                    <div class="event-detail">
                        <i class="fas fa-location-arrow"></i>
                        <span>{{ data.white_wedding.address }}</span>
                    </div>
                </div>
                
                {% if data.white_wedding.map_embed %}
                <div class="event-map">
                    {{ data.white_wedding.map_embed|safe }}
                </div>
                {% else %}
                <div class="event-placeholder">
                    <div class="placeholder-content">
                        <i class="fas fa-bell"></i>
                        <p>Details to be announced</p>
                        <p class="placeholder-subtitle">Check back for updates</p>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- Gallery Section -->
<section id="gallery" class="gallery">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Gallery</h2>
            <div class="section-divider"></div>
        </div>
        
        <div class="gallery-controls">
            <button class="gallery-toggle active" data-view="slideshow">
                <i class="fas fa-play"></i>
                Slideshow
            </button>
            <button class="gallery-toggle" data-view="grid">
                <i class="fas fa-th"></i>
                Grid View
            </button>
        </div>
        
        <!-- Slideshow View -->
        <div class="gallery-slideshow" id="gallery-slideshow">
            {% if gallery_media %}
                {% for media in gallery_media %}
                    {% if media.type == 'image' %}
                        <div class="gallery-slide">
                            <img src="{{ media.url }}" alt="Gallery" loading="lazy">
                        </div>
                    {% else %}
                        <div class="gallery-slide">
                            <video autoplay muted loop playsinline>
                                <source src="{{ media.url }}" type="video/mp4">
                            </video>
                        </div>
                    {% endif %}
                {% endfor %}
            {% else %}
                <div class="gallery-placeholder">
                    <div class="placeholder-content">
                        <i class="fas fa-images"></i>
                        <p>Gallery photos and videos will appear here</p>
                    </div>
                </div>
            {% endif %}
        </div>
        
        <!-- Grid View -->
        <div class="gallery-grid" id="gallery-grid" style="display: none;">
            {% if gallery_media %}
                {% for media in gallery_media %}
                    {% if media.type == 'image' %}
                        <div class="gallery-item">
                            <img src="{{ media.url }}" alt="Gallery" loading="lazy">
                        </div>
                    {% else %}
                        <div class="gallery-item video-item">
                            <video controls>
                                <source src="{{ media.url }}" type="video/mp4">
                            </video>
                        </div>
                    {% endif %}
                {% endfor %}
            {% else %}
                <div class="gallery-placeholder">
                    <div class="placeholder-content">
                        <i class="fas fa-images"></i>
                        <p>Gallery photos and videos will appear here</p>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// Countdown Timer
function updateCountdown() {
    const weddingDate = new Date('2026-03-07T13:00:00');
    const now = new Date();
    const diff = weddingDate - now;
    
    if (diff > 0) {
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
        
        document.getElementById('days').textContent = days.toString().padStart(2, '0');
        document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
        document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
        document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
    }
}

// Update countdown every second
setInterval(updateCountdown, 1000);
updateCountdown();

// Gallery Toggle
const galleryToggles = document.querySelectorAll('.gallery-toggle');
const slideshowView = document.getElementById('gallery-slideshow');
const gridView = document.getElementById('gallery-grid');

galleryToggles.forEach(toggle => {
    toggle.addEventListener('click', () => {
        const view = toggle.dataset.view;
        
        // Update active button
        galleryToggles.forEach(t => t.classList.remove('active'));
        toggle.classList.add('active');
        
        // Toggle views
        if (view === 'slideshow') {
            slideshowView.style.display = 'block';
            gridView.style.display = 'none';
        } else {
            slideshowView.style.display = 'none';
            gridView.style.display = 'grid';
        }
    });
});
</script>
{% endblock %}